% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/create_study_config.R
\name{create_study_config}
\alias{create_study_config}
\title{Create Study Configuration Assessment}
\usage{
create_study_config(
  name = "Personality Assessment",
  demographics = c("Age", "Gender"),
  study_key = paste0("STUDY_", if (requireNamespace("uuid", quietly = TRUE))
    uuid::UUIDgenerate() else paste0("STUDY_", Sys.time())),
  min_SEM = 0.3,
  min_items = 5,
  max_items = NULL,
  criteria = "MI",
  model = "GRM",
  estimation_method = "EAP",
  recommendation_fun = NULL,
  theta_prior = c(0, 1),
  stopping_rule = NULL,
  input_types = NULL,
  scoring_fun = NULL,
  adaptive_start = NULL,
  fixed_items = NULL,
  adaptive = TRUE,
  item_groups = NULL,
  custom_ui_pre = NULL,
  progress_style = "circle",
  response_validation_fun = NULL,
  response_ui_type = "radio",
  session_save = FALSE,
  show_session_time = FALSE,
  theme = "Professional",
  language = "en",
  item_translations = NULL,
  report_formats = c("rds", "csv", "json", "pdf"),
  max_session_duration = 60,
  max_response_time = 300,
  cache_enabled = TRUE,
  parallel_computation = TRUE,
  fast_item_selection = TRUE,
  feedback_enabled = FALSE,
  theta_grid = seq(-4, 4, length.out = 100),
  show_introduction = TRUE,
  introduction_content = NULL,
  show_briefing = TRUE,
  briefing_content = NULL,
  show_consent = TRUE,
  consent_content = NULL,
  show_gdpr_compliance = TRUE,
  gdpr_content = NULL,
  show_debriefing = TRUE,
  debriefing_content = NULL,
  demographic_configs = NULL,
  custom_demographic_ui = NULL,
  custom_study_flow = NULL,
  custom_page_configs = NULL,
  enable_custom_navigation = FALSE,
  study_phases = c("introduction", "briefing", "consent", "demographics", "survey",
    "debriefing"),
  page_transitions = "fade",
  enable_back_navigation = TRUE,
  unknown_param_handling = TRUE,
  param_initialization_method = "smart_defaults",
  auto_initialize_unknowns = TRUE,
  calibration_mode = FALSE,
  study_pages = NULL,
  page_contents = NULL,
  advanced_demographics = NULL,
  ui_config = NULL,
  language_config = NULL,
  data_config = NULL,
  quality_config = NULL,
  analytics_config = NULL,
  integration_config = NULL,
  custom_functions = NULL,
  study_metadata = NULL,
  participant_report = NULL,
  min_required_non_age_demographics = 1,
  ...
)
}
\arguments{
\item{name}{Character string specifying the study name for identification and reporting.}

\item{demographics}{Character vector of demographic field names to collect, 
or \code{NULL} for no demographic data collection.}

\item{study_key}{Character string providing unique identifier for the study. 
Defaults to auto-generated UUID for session tracking.}

\item{min_SEM}{Numeric value specifying minimum standard error for stopping criterion.
Computed by TAM estimation procedures. Typical values: 0.2-0.4.}

\item{min_items}{Integer minimum number of items to administer before stopping rules apply.}

\item{max_items}{Integer maximum number of items to administer, or \code{NULL} to use 
full item bank size. Prevents excessive test length.}

\item{criteria}{Character string specifying item selection criterion. Options:
\code{"MI"} (Maximum Information), \code{"RANDOM"}, \code{"WEIGHTED"}, \code{"MFI"} (Maximum Fisher Information).}

\item{model}{Character string specifying IRT model passed to TAM functions.
Options: \code{"1PL"}, \code{"2PL"}, \code{"3PL"}, \code{"GRM"}.}

\item{estimation_method}{Character string specifying TAM ability estimation method.
Options: \code{"EAP"} (Expected A Posteriori - Bayesian, stable with few items, default) or
\code{"WLE"} (Weighted Likelihood Estimation - frequentist, accurate with many items).
Both methods use the TAM package exclusively.}

\item{recommendation_fun}{Function to generate personalized recommendations based on 
ability estimates and demographics, or \code{NULL} for default recommendations.}

\item{theta_prior}{Numeric vector of length 2 specifying prior mean and standard deviation
for ability distribution. Used in TAM's Bayesian estimation procedures.}

\item{stopping_rule}{Custom function implementing stopping logic, or \code{NULL} for 
default SEM-based stopping. Function should accept theta, SE, and item count.}

\item{input_types}{Named list specifying input types for demographic fields.
Options: \code{"text"}, \code{"numeric"}, \code{"select"}, \code{"radio"}, \code{"checkbox"}.}

\item{scoring_fun}{Function to score item responses, or \code{NULL} for default scoring.
Should accept response and correct answer, return numeric score.}

\item{adaptive_start}{Integer item number to begin adaptive selection, or \code{NULL} 
for immediate adaptive selection. Allows fixed item administration initially.}

\item{fixed_items}{Integer vector of item indices that must be administered, 
or \code{NULL} for no fixed items. Useful for anchor items or content requirements.}

\item{adaptive}{Logical indicating whether to use adaptive item selection based on 
TAM ability estimates. When \code{TRUE} (default), items are selected dynamically 
based on the participant's estimated ability to maximize information. When \code{FALSE}, 
items are administered in sequential order from the item bank (non-adaptive mode).
Note: When \code{adaptive = FALSE}, the assessment simply presents items 1 through 
\code{max_items} in order, making it a standard fixed-form questionnaire.}

\item{item_groups}{Named list defining item groups for content balancing, 
or \code{NULL} for no grouping constraints.}

\item{custom_ui_pre}{Custom UI elements to display before assessment, 
or \code{NULL} for standard interface.}

\item{progress_style}{Character string specifying progress indicator style.
Options: \code{"bar"}, \code{"circle"}, \code{"modern-circle"}, \code{"enhanced-bar"}, \code{"segmented"}, \code{"minimal"}, \code{"card"}.}

\item{response_validation_fun}{Function to validate participant responses, 
or \code{NULL} for default validation. Should return logical.}

\item{response_ui_type}{Character string specifying response input interface.
Options: \code{"radio"}, \code{"slider"}, \code{"dropdown"}.}

\item{session_save}{Logical indicating whether to enable session state persistence
for interrupted session recovery.}

\item{show_session_time}{Logical indicating whether to display session time remaining
in the top-right corner. Defaults to FALSE for cleaner interface.}

\item{theme}{Character string specifying built-in UI theme. Options: \code{"Light"}, 
\code{"Midnight"}, \code{"Sunset"}, \code{"Forest"}, \code{"Ocean"}, \code{"Berry"}, \code{"Professional"}.}

\item{language}{Character string specifying interface language. 
Options: \code{"en"}, \code{"de"}, \code{"es"}, \code{"fr"}.}

\item{item_translations}{Named list of item translations by language code, 
or \code{NULL} for single-language studies.}

\item{report_formats}{Character vector specifying supported export formats.
Options: \code{"rds"}, \code{"csv"}, \code{"json"}, \code{"pdf"}.}

\item{max_session_duration}{Integer maximum session duration in minutes for timeout.}

\item{max_response_time}{Integer maximum response time per item in seconds.}

\item{cache_enabled}{Logical indicating whether to cache item information calculations
for performance optimization.}

\item{parallel_computation}{Logical indicating whether to enable parallel processing
for TAM estimation procedures when computationally intensive.}

\item{fast_item_selection}{Logical indicating whether to use fast item selection
algorithm for improved performance in large item banks.}

\item{feedback_enabled}{Logical indicating whether to provide immediate feedback
after each item response.}

\item{theta_grid}{Numeric vector specifying theta grid for TAM's numerical integration,
or \code{NULL} for TAM's default grid specification.}

\item{show_introduction}{Logical indicating whether to display introduction page
with study overview and briefing information.}

\item{introduction_content}{Character string containing HTML content for 
introduction page, or \code{NULL} for default content.}

\item{show_briefing}{Logical indicating whether to display detailed briefing
about study procedures, ethics, and expectations.}

\item{briefing_content}{Character string containing HTML content for briefing,
or \code{NULL} for default academic briefing.}

\item{show_consent}{Logical indicating whether to display informed consent form
with GDPR/DSGVO compliance options.}

\item{consent_content}{Character string containing HTML consent form content,
or \code{NULL} for default GDPR-compliant consent.}

\item{show_gdpr_compliance}{Logical indicating whether to include GDPR/DSGVO
data protection information and consent checkboxes.}

\item{gdpr_content}{Character string containing GDPR/DSGVO compliance text,
or \code{NULL} for default German/EU compliant text.}

\item{show_debriefing}{Logical indicating whether to display debriefing page
after study completion with study purpose and resources.}

\item{debriefing_content}{Character string containing HTML debriefing content,
or \code{NULL} for default debriefing.}

\item{demographic_configs}{Named list providing full control over demographic
questions, including custom labels, response options, validation rules,
and display formatting.}

\item{custom_demographic_ui}{Function to generate custom demographic UI,
or \code{NULL} for default demographic interface.}

\item{custom_study_flow}{Named list defining custom study flow for specific studies
(e.g., Hildesheim study). Allows specification of exact page order and content.
Example: \code{list(start_with = "instructions", page_sequence = c("instructions", "demographics", "assessment", "results"))}.
Defaults to NULL for standard flow.}

\item{custom_page_configs}{Named list providing configuration for each custom page,
including content, validation rules, and navigation logic.
Example: \code{list(instructions = list(content = "Custom instructions", validation = "required"))}.
Defaults to NULL for standard flow.}

\item{enable_custom_navigation}{Logical indicating whether to enable custom page navigation
for studies requiring specific flow control. Defaults to FALSE for backward compatibility.
instructions instead of demographics. Defaults to FALSE for backward compatibility.
that need non-standard flow (e.g., Hildesheim study). Defaults to NULL for standard flow.
Allows specification of exact page order and subpages (e.g., page_1 = "instructions",
page_3_1 = "education"). Defaults to NULL for standard flow.
including content, validation rules, and navigation logic.}

\item{study_phases}{Character vector specifying order of study phases.
Default: c("introduction", "briefing", "consent", "demographics", "survey", "debriefing").}

\item{page_transitions}{Character string specifying transition animations
between study phases. Options: "fade", "slide", "none".}

\item{enable_back_navigation}{Logical indicating whether participants can
navigate back to previous pages.}

\item{...}{Additional parameters captured and included in configuration object
for custom extensions and advanced features.}
}
\value{
Named list containing complete study configuration with all specified parameters
  and computed defaults. Compatible with \code{\link{launch_study}} and other inrep functions.
}
\description{
Creates a comprehensive configuration object for adaptive testing studies that utilize 
the TAM package for all psychometric computations. This function configures the parameters 
that control how \code{inrep} interfaces with TAM's statistical functions and manages
the overall assessment workflow, session management, and result reporting.
}
\details{
\strong{TAM Integration Architecture:} This configuration object serves as the primary
interface layer between \code{inrep}'s workflow management and TAM's psychometric functions:

\strong{Core TAM Parameters:}
\itemize{
  \item \code{model}: Determines which TAM function to invoke (\code{\link[TAM]{tam.mml}}, 
    \code{\link[TAM]{tam.mml.2pl}}, \code{\link[TAM]{tam.mml.3pl}})
  \item \code{estimation_method}: Controls TAM's ability estimation procedures 
    (\code{\link[TAM]{tam.wle}}, \code{\link[TAM]{tam.eap}})
  \item \code{theta_prior}: Prior distribution parameters passed to TAM's Bayesian procedures
  \item \code{min_SEM}: Stopping criterion based on TAM's standard error calculations
  \item \code{theta_grid}: Grid specification for TAM's numerical integration algorithms
}

\strong{Framework Responsibilities:} \code{inrep} provides workflow orchestration while
TAM performs all psychometric computations:
\itemize{
  \item Session management and state persistence across assessment sessions
  \item User interface rendering and interaction handling via Shiny
  \item Data flow coordination between UI components and TAM functions
  \item Result formatting, reporting, and export in multiple formats
  \item Quality monitoring, logging, and administrative features
}

\strong{Adaptive Testing Configuration:} When \code{adaptive = TRUE}, the system:
\itemize{
  \item Uses TAM ability estimates to drive item selection algorithms
  \item Applies stopping rules based on TAM-computed standard errors
  \item Implements content balancing with psychometric optimization
  \item Provides real-time ability tracking throughout the assessment
}

\strong{Quality Assurance Features:}
\itemize{
  \item Automatic validation of parameter ranges for TAM compatibility
  \item Response time monitoring and rapid-response detection
  \item Session timeout management and graceful degradation
  \item Comprehensive audit logging for research compliance
}

\strong{Multilingual Support:} Language configuration affects:
\itemize{
  \item Interface text and navigation elements
  \item Error messages and validation feedback
  \item Progress indicators and completion messages
  \item Demographic field labels and response options
}

All psychometric modeling is performed exclusively by TAM (Robitzsch et al., 2024).
\code{inrep} focuses on providing the technological infrastructure and user experience
layer around TAM's validated statistical procedures.

\strong{HTML Customization:} All page types in custom page flows now support optional
HTML customization parameters for enhanced styling and layout control:
\itemize{
  \item \code{custom_css}/\code{custom_css_en}: Inline CSS for page styling
  \item \code{html_prefix}/\code{html_prefix_en}: HTML content before main page
  \item \code{html_suffix}/\code{html_suffix_en}: HTML content after main page
  \item \code{wrapper_class}: CSS class for content wrapper
  \item \code{wrapper_style}: Inline styles for content wrapper
}
Parameters with \code{_en} suffix are used when language is English.
}
\examples{
\dontrun{
# Example 1: Basic Personality Assessment Configuration
basic_config <- create_study_config(
  name = "Big Five Personality Assessment",
  model = "GRM",
  estimation_method = "EAP",
  demographics = c("Age", "Gender", "Education"),
  max_items = 15,
  min_SEM = 0.3,
  language = "en",
  theme = "Light"
)

# Example 1b: Non-Adaptive (Fixed Order) Assessment
# Items are presented sequentially: 1, 2, 3, 4, 5 from the item bank
# This creates a standard questionnaire without adaptive item selection
fixed_config <- create_study_config(
  name = "Personality Questionnaire",
  adaptive = FALSE,  # Disable adaptive testing
  max_items = 5,     # Present exactly 5 items in order
  theme = "hildesheim",
  session_save = TRUE
)

# Example 2: Advanced Research Configuration with Full Customization
research_config <- create_study_config(
  name = "Cognitive Ability Validation Study",
  model = "2PL",
  estimation_method = "EAP",
  min_items = 12,
  max_items = 25,
  min_SEM = 0.25,
  criteria = "MI",  # Maximum Information selection
  theta_prior = c(0, 1.2),  # Slightly wider prior for diverse population
  
  # Comprehensive demographics
  demographics = c("Age", "Gender", "Education", "Native_Language", "Country"),
  input_types = list(
    Age = "numeric",
    Gender = "select", 
    Education = "select",
    Native_Language = "text",
    Country = "select"
  ),
  
  # Advanced features
  theme = "Professional",
  language = "en",
  session_save = TRUE,
  parallel_computation = TRUE,
  cache_enabled = TRUE,
  feedback_enabled = TRUE,
  
  # Performance optimization
  max_session_duration = 45,
  max_response_time = 120,
  
  # Custom recommendation function
  recommendation_fun = function(theta, demographics, item_responses) {
    ability_level <- cut(theta, breaks = c(-Inf, -0.5, 0.5, Inf), 
                        labels = c("Developing", "Proficient", "Advanced"))
    
    recommendations <- switch(ability_level,
      "Developing" = c("Focus on foundational skills", 
                      "Consider additional practice materials"),
      "Proficient" = c("Continue current learning approach", 
                      "Explore intermediate challenges"),
      "Advanced" = c("Seek advanced coursework", 
                    "Consider mentoring others")
    )
    
    return(recommendations)
  }
)

# Example 3: Clinical Assessment with Enterprise Features
clinical_config <- create_study_config(
  name = "Depression Screening Instrument",
  model = "GRM",
  estimation_method = "EAP",
  min_items = 8,
  max_items = 15,
  min_SEM = 0.4,  # Slightly higher for clinical screening
  criteria = "WEIGHTED",  # Balanced selection
  
  # Clinical demographics
  demographics = c("Age", "Gender", "Previous_Treatment", "Referral_Source"),
  input_types = list(
    Age = "numeric",
    Gender = "select",
    Previous_Treatment = "radio",
    Referral_Source = "select"
  ),
  
  # Clinical interface settings
  theme = "Clinical",
  language = "en",
  response_ui_type = "radio",
  progress_style = "bar",
  
  # Enterprise security
  session_save = TRUE,
  max_session_duration = 20,
  
  # Custom validation for clinical context
  response_validation_fun = function(response) {
    # Ensure response is provided and within expected range
    if (is.null(response) || is.na(response)) {
      return(FALSE)
    }
    # Clinical scale typically 0-3 or 1-4
    return(response \%in\% 0:3)
  }
)

# Example 4: Educational Assessment with Content Balancing
education_config <- create_study_config(
  name = "Mathematics Proficiency Assessment",
  model = "2PL",
  estimation_method = "EAP",
  min_items = 15,
  max_items = 30,
  min_SEM = 0.3,
  criteria = "MI",
  
  # Educational demographics
  demographics = c("Grade", "School", "Teacher", "Previous_Score"),
  input_types = list(
    Grade = "select",
    School = "text",
    Teacher = "text",
    Previous_Score = "numeric"
  ),
  
  # Content balancing
  item_groups = list(
    "Algebra" = c(1, 3, 5, 7, 9, 11, 13, 15),
    "Geometry" = c(2, 4, 6, 8, 10, 12, 14, 16),
    "Statistics" = c(17, 18, 19, 20, 21, 22, 23, 24)
  ),
  
  # Educational interface
  theme = "Educational",
  language = "en",
  response_ui_type = "radio",
  progress_style = "circle",
  feedback_enabled = TRUE,
  
  # Performance settings
  cache_enabled = TRUE,
  parallel_computation = TRUE,
  max_session_duration = 50
)

# Example 5: Multilingual Cross-Cultural Study
multilingual_config <- create_study_config(
  name = "Cross-Cultural Personality Study",
  model = "GRM",
  estimation_method = "EAP",
  min_items = 20,
  max_items = 40,
  min_SEM = 0.25,
  
  # Multilingual setup
  language = "en",  # Default language
  item_translations = list(
    "de" = list(
      "I see myself as someone who is talkative" = "Ich sehe mich als jemanden, der gesprÃ¤chig ist",
      "I see myself as someone who is reserved" = "Ich sehe mich als jemanden, der reserviert ist"
    ),
    "es" = list(
      "I see myself as someone who is talkative" = "Me veo como alguien que es hablador",
      "I see myself as someone who is reserved" = "Me veo como alguien que es reservado"
    )
  ),
  
  # Cross-cultural demographics
  demographics = c("Age", "Gender", "Country", "Native_Language", "Education"),
  input_types = list(
    Age = "numeric",
    Gender = "select",
    Country = "select",
    Native_Language = "text",
    Education = "select"
  ),
  
  # Research features
  theme = "Research",
  session_save = TRUE,
  parallel_computation = TRUE,
  report_formats = c("rds", "csv", "json"),
  
  # Extended session for international participants
  max_session_duration = 60,
  max_response_time = 180
)

# View configuration structure
str(basic_config)
cat("Configuration created for:", basic_config$name, "\n")
cat("Model:", basic_config$model, "\n")
cat("Max items:", basic_config$max_items, "\n")
}

}
\references{
\itemize{
  \item Robitzsch, A., Kiefer, T., & Wu, M. (2020). \emph{TAM: Test Analysis Modules}. 
    R package version 3.5-19. \url{https://CRAN.R-project.org/package=TAM}
  \item van der Linden, W. J., & Glas, C. A. W. (Eds.). (2010). 
    \emph{Elements of adaptive testing}. Springer.
  \item Chalmers, R. P. (2012). mirt: A multidimensional item response theory package 
    for the R environment. \emph{Journal of Statistical Software}, 48(6), 1-29.
  \item Embretson, S. E., & Reise, S. P. (2000). 
    \emph{Item response theory for psychologists}. Lawrence Erlbaum Associates.
}

Robitzsch A, Kiefer T, Wu M (2024). TAM: Test Analysis Modules. 
  R package version 4.2-21. \url{https://CRAN.R-project.org/package=TAM}
}
\seealso{
\itemize{
  \item \code{\link{launch_study}} for running assessments with this configuration
  \item \code{\link{validate_item_bank}} for validating item banks with configuration
  \item \code{\link{estimate_ability}} for ability estimation using configuration
  \item \code{\link{select_next_item}} for item selection using configuration
}

\code{\link{launch_study}}, \code{\link{estimate_ability}}, 
  \code{\link{validate_item_bank}}
}
