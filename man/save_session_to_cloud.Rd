% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core_utils.R
\name{save_session_to_cloud}
\alias{save_session_to_cloud}
\title{Save Assessment Session Data to WebDAV}
\usage{
save_session_to_cloud(rv, config, webdav_url = NULL, password = NULL)
}
\arguments{
\item{rv}{A reactive values object containing session data, typically from
a completed assessment with \code{cat_result} populated.}

\item{config}{A study configuration object created by \code{\link{create_study_config}}
containing study metadata and storage parameters.}

\item{webdav_url}{Character string specifying WebDAV URL for cloud storage.
Should follow format \code{"https://server.com/webdav/path/"}. If \code{NULL},
cloud saving is skipped.}

\item{password}{Character string containing password for WebDAV authentication.
If \code{NULL}, attempts anonymous access.}
}
\value{
Logical value indicating upload success:
\describe{
  \item{\code{TRUE}}{Session data successfully uploaded to cloud storage}
  \item{\code{FALSE}}{Upload failed due to network issues, authentication problems, or missing requirements}
}
}
\description{
Uploads completed session data as JSON to a WebDAV endpoint using
\code{httr::PUT()}. This is a convenience helper; it does not implement
client-side encryption.
}
\details{
The function writes the JSON payload to a temporary file and uploads that
file. It can also convert a Nextcloud/ownCloud public share URL to the
corresponding WebDAV endpoint.
}
\section{Data Structure}{

The uploaded JSON contains:
\itemize{
  \item \code{study_key}: Study identifier for data organization
  \item \code{timestamp}: Upload timestamp in ISO format
  \item \code{cat_result}: Complete TAM-derived assessment results
  \item \code{demographics}: Collected demographic information
  \item \code{response_times}: Item-level response times in seconds
  \item \code{theta_history}: Ability estimate progression across items
  \item \code{se_history}: Standard error progression across items
}
}

\section{Security Note}{

This function uploads plain JSON over HTTP(S). It does not encrypt the payload.
Use HTTPS and server-side access controls. If you require client-side encryption,
encrypt before writing/uploading.
}

\examples{
\dontrun{
# Complete session with results
config <- create_study_config(
  name = "Research Study",
  study_key = "STUDY2024_001",
  model = "2PL",
  max_items = 20
)

rv <- init_reactive_values(config)
# ... conduct assessment ...
rv$cat_result <- list(
  final_theta = 1.2,
  final_se = 0.35,
  items_administered = 15,
  total_time = 450
)

# Save to institutional cloud storage
success <- save_session_to_cloud(
  rv, config,
  webdav_url = "https://research.university.edu/webdav/",
  password = "institutional_password"
)

if (success) {
  message("Session data successfully archived")
} else {
  warning("Cloud storage failed - implement backup strategy")
}

# Anonymous cloud storage
save_session_to_cloud(rv, config, 
  webdav_url = "https://public.cloud.com/webdav/", 
  password = NULL)
}

}
\references{
Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., & 
Berners-Lee, T. (1999). \emph{Hypertext Transfer Protocol -- HTTP/1.1}. 
RFC 2616. Internet Engineering Task Force.

Goland, Y., Whitehead, E., Faizi, A., Carter, S., & Jensen, D. (1999). 
\emph{HTTP Extensions for Distributed Authoring -- WEBDAV}. 
RFC 2518. Internet Engineering Task Force.
}
\seealso{
\code{\link{validate_session}} for session validation,
\code{\link{resume_session}} for session restoration,
\code{\link{init_reactive_values}} for session initialization,
\code{\link{create_study_config}} for configuration with storage parameters
}
