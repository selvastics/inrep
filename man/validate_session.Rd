% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core_utils.R
\name{validate_session}
\alias{validate_session}
\title{Validate Assessment Session State and Handle Cloud Storage}
\usage{
validate_session(rv, config, webdav_url = NULL, password = NULL)
}
\arguments{
\item{rv}{A reactive values object containing current session state, typically
created by \code{\link{init_reactive_values}}.}

\item{config}{A study configuration object created by \code{\link{create_study_config}}
containing assessment parameters and validation rules.}

\item{webdav_url}{Character string specifying WebDAV URL for cloud storage,
or \code{NULL} to disable cloud saving. Should follow format
\code{"https://server.com/webdav/path/"}.}

\item{password}{Character string containing password for WebDAV authentication,
or \code{NULL} if authentication is not required.}
}
\value{
An updated reactive values object.
}
\description{
Normalizes the session state object (adds missing fields, applies timeout
reset) and optionally uploads completed sessions to WebDAV.
}
\details{
If \code{rv} or \code{config} is invalid, a fresh object is created via
\code{init_reactive_values()}. If the session exceeds \code{config$max_session_duration},
the session is reset.
}
\examples{
\dontrun{
# Basic session validation
config <- create_study_config(
  name = "Validation Test",
  model = "2PL",
  max_items = 15,
  session_timeout = 3600  # 1 hour timeout
)

rv <- init_reactive_values(config)
rv$responses <- list(c(1, 0, 1, 1, 0))  # Add some responses
rv$administered <- c(1, 5, 10, 15, 20)

# Validate without cloud storage
rv_validated <- validate_session(rv, config, NULL, NULL)
rv_validated$session_valid  # TRUE if validation passed

# Optional WebDAV upload (requires httr/jsonlite)
validate_session(
  rv, config,
  webdav_url = "https://cloud.example.com/webdav/",
  password = Sys.getenv("WEBDAV_PASSWORD")
)
}

}
\references{
Robitzsch, A., Kiefer, T., & Wu, M. (2020). \emph{TAM: Test Analysis Modules}. 
R package version 3.5-19. \url{https://CRAN.R-project.org/package=TAM}

Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter, L., Leach, P., & 
Berners-Lee, T. (1999). \emph{Hypertext Transfer Protocol -- HTTP/1.1}. 
RFC 2616. Internet Engineering Task Force.
}
\seealso{
\code{\link{init_reactive_values}} for session initialization,
\code{\link{resume_session}} for session restoration,
\code{\link{save_session_to_cloud}} for manual cloud storage,
\code{\link{create_study_config}} for configuration parameters
}
