% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/core_utils.R
\name{resume_session}
\alias{resume_session}
\title{Resume Assessment Session from Cloud or Local Storage}
\usage{
resume_session(file_path)
}
\arguments{
\item{file_path}{Character string specifying the path to the encrypted
session file. Can be local file path or downloaded cloud storage file.
File should have been created by \code{\link{save_session_to_cloud}}.}
}
\value{
A comprehensive list containing restored session data, or \code{NULL} if restoration fails:
\describe{
  \item{\code{study_key}}{Original study identifier}
  \item{\code{timestamp}}{Original session timestamp}
  \item{\code{cat_result}}{TAM-derived assessment results and statistics}
  \item{\code{demographics}}{Participant demographic information}
  \item{\code{response_times}}{Item-level response times in seconds}
  \item{\code{theta_history}}{Complete ability estimate progression}
  \item{\code{se_history}}{Standard error progression across items}
  \item{\code{restored_at}}{Restoration timestamp for audit trail}
}
}
\description{
Restores previously saved assessment session data from encrypted files,
enabling continuation of interrupted assessments and comprehensive data
recovery for research continuity. Supports both local and cloud-stored
session files with integrity verification and validation.
}
\details{
This function provides comprehensive session restoration capabilities
essential for research environments requiring robust data recovery:

\strong{Data Recovery Architecture:}
\itemize{
  \item Encrypted file decryption using base64 decoding (upgrade to proper encryption in production)
  \item JSON structure validation and parsing
  \item Data integrity verification against expected session format
  \item Graceful error handling with detailed logging
}

\strong{Session Restoration Process:}
\itemize{
  \item File accessibility and format validation
  \item Decryption and data structure reconstruction
  \item TAM-compatible data format verification
  \item Session state validation for assessment continuation
}

\strong{Research Continuity Features:}
\itemize{
  \item Complete psychometric state restoration for TAM integration
  \item Response pattern and timing data preservation
  \item Demographic information recovery
  \item Assessment progress tracking restoration
}

\strong{Quality Assurance:}
\itemize{
  \item Data corruption detection and reporting
  \item Version compatibility validation
  \item Comprehensive error logging for debugging
  \item Fallback strategies for partial data recovery
}

The restored session data maintains full compatibility with TAM's
psychometric functions, enabling seamless continuation of adaptive
assessments with preserved ability estimates and response histories.
}
\section{File Format}{

Expected encrypted file format (base64-encoded JSON):
\itemize{
  \item Study metadata and identifiers
  \item Complete psychometric state for TAM integration
  \item Response patterns and timing information
  \item Assessment progress and stopping criteria status
  \item Participant demographic information (if collected)
}
}

\section{Error Handling}{

Function returns \code{NULL} and logs detailed error information for:
\itemize{
  \item File accessibility issues (permissions, network, corruption)
  \item Decryption failures (wrong format, corrupted data)
  \item JSON parsing errors (malformed structure)
  \item Data validation failures (missing required fields)
}
}

\examples{
\dontrun{
# Resume from local file
session_data <- resume_session("path/to/STUDY2024_001_20241201_143022.enc")

if (!is.null(session_data)) {
  # Successful restoration
  cat("Study:", session_data$study_key, "\n")
  cat("Original session:", session_data$timestamp, "\n")
  cat("Final ability:", session_data$cat_result$final_theta, "\n")
  cat("Items administered:", length(session_data$theta_history), "\n")
  
  # Continue assessment or analyze results
  if (is.null(session_data$cat_result)) {
    message("Incomplete session - can be continued")
  } else {
    message("Complete session - analyze results")
  }
} else {
  warning("Session restoration failed - check file integrity")
}

# Resume from downloaded cloud file
cloud_file <- "downloads/research_session_backup.enc"
restored_session <- resume_session(cloud_file)

# Validate restored data before proceeding
if (!is.null(restored_session) && 
    !is.null(restored_session$theta_history) &&
    length(restored_session$theta_history) > 0) {
  message("Valid session data restored - proceeding with analysis")
}
}

}
\references{
Robitzsch, A., Kiefer, T., & Wu, M. (2020). \emph{TAM: Test Analysis Modules}. 
R package version 3.5-19. \url{https://CRAN.R-project.org/package=TAM}
}
\seealso{
\code{\link{save_session_to_cloud}} for creating session backup files,
\code{\link{validate_session}} for session validation,
\code{\link{init_reactive_values}} for new session initialization,
\code{\link{create_study_config}} for configuration setup
}
